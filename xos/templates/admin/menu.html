
<!--
Copyright 2017-present Open Networking Foundation

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->


{#{% load sitetree %}#}
{% load i18n suit_menu suit_tags core_tags %}
{% load url from future %}




{% with menu_position='menu_position'|suit_conf %}



<ul class="nav nav-suit-menu nav-pills{% if menu_position == 'vertical' %} nav-stacked {% endif %}">
    {% block menu_home %}
    {% url 'admin:index' as index_url %}
    <li{% if index_url == request.path or request.path == "/" or "admin/dashboard" in request.path %} class="active"{% endif %}>
        <a href="{{ index_url }}">
            <i class="icon-home"></i>
            <span>{% trans 'Home' %}</span>
        </a>
        {% dashboard_list %}
    </li>
    {% endblock %}

    {% get_menu request as app_list %}
        {% if app_list %}
            {% for app in app_list %}
                {% if app.separator %}
                <li class="separator"></li>
                {% else %}
                <li
                        {{ app.isActive|yesno:' class=active,' }}
                        {% if app.url in request.path %}
                            class="active"
                        {% endif %}
                        >
                    <a href="{{ app.url }}"{{ app.blank|yesno:' target=_blank,' }}>
                        <i class="{% firstof app.icon 'icon-chevron-right' %}"></i>
                        <span>{% trans app.label|capfirst %}</span>
                    </a>
                    {% if app.models and not app.is_active %}
                    <ul class="nav nav-pills nav-stacked">
                        {% for model in app.models %}
                            <li{{ model.is_active|yesno:' class=active,' }}>
                                <a href="{{ model.url }}"{{ model.blank|yesno:' target=_blank,' }}>{{ model.label }}</a>
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}
                </li>
            {% endif %}
            {% endfor %}
        {% endif %}
</ul>
{% if app_list and menu_position == 'horizontal' %}
    {% get_sub_menu app_list as active_app_nodels %}
    <ul class="nav nav-suit-sub-menu nav-pills">
        {% if active_app_nodels %}
            {% for model in active_app_nodels %}
            <li{{ model.is_active|yesno:' class=active,' }}>
                <a href="{{ model.url }}"{{ model.blank|yesno:' target=_blank,' }}>{{ model.label }}</a>
            </li>
            {% endfor %}
        {% endif %}
    </ul>
    {% endif %}
{% endwith %}

